package me.maskat.ShopManager;

import mkproject.maskat.Papi.Papi;

public class Database {
	
	protected static void initialize() {
		Users.TABLE = Plugin.getPlugin().getConfig().getString("MySQL.Table.Users")+(Papi.DEVELOPER_DATABASE ? "_develop" : "");
		
		if(Papi.DEVELOPER_DATABASE && Papi.DEVELOPER_DATABASE_AUTODELETE)
		{
			Papi.MySQL.deleteTable(Categories.TABLE);
			Papi.MySQL.deleteTable(Categories.TABLE);
		}
		
		Papi.MySQL.createTable(Items.TABLE,
					Papi.SQL.createColumnParse(Database.Categories.ID, Papi.SQL.ValType.INT, 16, true, true, true)
				+","+Papi.SQL.createColumnParse(Database.Categories.NAME, Papi.SQL.ValType.VARCHAR, 32, false)
				+","+Papi.SQL.createColumnParse(Database.Categories.DESCRIPTION, Papi.SQL.ValType.VARCHAR, 256, false)
				+","+Papi.SQL.createColumnPrimary(Database.Items.ID)
		);
		Papi.MySQL.createTable(Items.TABLE,
				Papi.SQL.createColumnParse(Database.Items.ID, Papi.SQL.ValType.INT, 16, true, true, true)
				+","+Papi.SQL.createColumnParse(Database.Items.NAME, Papi.SQL.ValType.VARCHAR, 32, false)
				+","+Papi.SQL.createColumnParse(Database.Items.DESCRIPTION, Papi.SQL.ValType.VARCHAR, 256, false)
				+","+Papi.SQL.createColumnParse(Database.Items.PRICE, Papi.SQL.ValType.DOUBLE, -1, false)
				+","+Papi.SQL.createColumnParse(Database.Items.CATEGORYID, Papi.SQL.ValType.INT, 16, false)
				+","+Papi.SQL.createColumnPrimary(Database.Items.ID)
				);
		
		
	}
	
	protected static class Categories {
		public static String TABLE;
		public static final String ID = "id";
		public static final String NAME = "name";
		public static final String DESCRIPTION = "description";
	}
	protected static class Items {
		public static String TABLE;
		public static final String ID = "id";
		public static final String NAME = "name";
		public static final String DESCRIPTION = "description";
		public static final String PRICE = "price";
		public static final String CATEGORYID = "categoryid";
	}
}
